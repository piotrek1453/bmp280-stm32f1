\doxysection{Core/\+Src/\+BMP280.c File Reference}
\hypertarget{_b_m_p280_8c}{}\label{_b_m_p280_8c}\index{Core/Src/BMP280.c@{Core/Src/BMP280.c}}


BMP280 driver file.  


{\ttfamily \#include \"{}BMP280.\+h\"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_b_m_p280_8c_a4843d4cd03b3b25f4dc8a6bc093d34eb}{BMP280\+\_\+\+Calibration\+Constants\+Read\+\_\+\+I2C}} (I2\+C\+\_\+\+Handle\+Type\+Def i2c\+\_\+handle, uint8\+\_\+t device\+\_\+address)
\begin{DoxyCompactList}\small\item\em Read sensor calibration parameters over I2C. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{_b_m_p280_8c_a9017ca1c3d95ac8a0a3b96693a425312}{BMP280\+\_\+\+Init\+\_\+\+I2C}} (uint8\+\_\+t osrs\+\_\+t, uint8\+\_\+t osrs\+\_\+p, uint8\+\_\+t acq\+\_\+mode, uint8\+\_\+t t\+\_\+sb, uint8\+\_\+t filter\+\_\+tc, I2\+C\+\_\+\+Handle\+Type\+Def i2c\+\_\+handle, uint8\+\_\+t device\+\_\+address)
\begin{DoxyCompactList}\small\item\em Initialize sensor with chosen settings. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{_b_m_p280_8c_aac5dadd8c2f03898ed77fdb2eb77c0fd}{BMP280\+\_\+\+Wake\+\_\+\+I2C}} (I2\+C\+\_\+\+Handle\+Type\+Def i2c\+\_\+handle, uint8\+\_\+t device\+\_\+address)
\begin{DoxyCompactList}\small\item\em Wake sensor over I2C -\/ used when measuring in forced mode. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_b_m_p280___result}{BMP280\+\_\+\+Result}} \mbox{\hyperlink{_b_m_p280_8c_a3ba1d44816edfca8c80d1f49c6b9d644}{BMP280\+\_\+\+Measure\+\_\+\+I2C}} (I2\+C\+\_\+\+Handle\+Type\+Def i2c\+\_\+handle, uint8\+\_\+t device\+\_\+address)
\begin{DoxyCompactList}\small\item\em Measure temperature and pressure over I2C. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int32\+\_\+t \mbox{\hyperlink{_b_m_p280_8c_ac1f0d71206317758c70cd96314b6fc02}{t\+\_\+fine}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
BMP280 driver file. 

Created on\+: Apr 5, 2024 ~\newline
 Author\+: Piotr Jucha 

\doxysubsection{Function Documentation}
\Hypertarget{_b_m_p280_8c_a4843d4cd03b3b25f4dc8a6bc093d34eb}\label{_b_m_p280_8c_a4843d4cd03b3b25f4dc8a6bc093d34eb} 
\index{BMP280.c@{BMP280.c}!BMP280\_CalibrationConstantsRead\_I2C@{BMP280\_CalibrationConstantsRead\_I2C}}
\index{BMP280\_CalibrationConstantsRead\_I2C@{BMP280\_CalibrationConstantsRead\_I2C}!BMP280.c@{BMP280.c}}
\doxysubsubsection{\texorpdfstring{BMP280\_CalibrationConstantsRead\_I2C()}{BMP280\_CalibrationConstantsRead\_I2C()}}
{\footnotesize\ttfamily void BMP280\+\_\+\+Calibration\+Constants\+Read\+\_\+\+I2C (\begin{DoxyParamCaption}\item[{I2\+C\+\_\+\+Handle\+Type\+Def}]{i2c\+\_\+handle,  }\item[{uint8\+\_\+t}]{device\+\_\+address }\end{DoxyParamCaption})}



Read sensor calibration parameters over I2C. 

Read constants used for temperature and pressure calculations from sensor\textquotesingle{}s memory \Hypertarget{_b_m_p280_8c_a9017ca1c3d95ac8a0a3b96693a425312}\label{_b_m_p280_8c_a9017ca1c3d95ac8a0a3b96693a425312} 
\index{BMP280.c@{BMP280.c}!BMP280\_Init\_I2C@{BMP280\_Init\_I2C}}
\index{BMP280\_Init\_I2C@{BMP280\_Init\_I2C}!BMP280.c@{BMP280.c}}
\doxysubsubsection{\texorpdfstring{BMP280\_Init\_I2C()}{BMP280\_Init\_I2C()}}
{\footnotesize\ttfamily bool BMP280\+\_\+\+Init\+\_\+\+I2C (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{osrs\+\_\+t,  }\item[{uint8\+\_\+t}]{osrs\+\_\+p,  }\item[{uint8\+\_\+t}]{acq\+\_\+mode,  }\item[{uint8\+\_\+t}]{t\+\_\+sb,  }\item[{uint8\+\_\+t}]{filter\+\_\+tc,  }\item[{I2\+C\+\_\+\+Handle\+Type\+Def}]{i2c\+\_\+handle,  }\item[{uint8\+\_\+t}]{device\+\_\+address }\end{DoxyParamCaption})}



Initialize sensor with chosen settings. 

Reset the sensor, check if device ID is valid, read calibration constants, write oversampling, acquisition mode, readout timing and filter data to the sensor \Hypertarget{_b_m_p280_8c_a3ba1d44816edfca8c80d1f49c6b9d644}\label{_b_m_p280_8c_a3ba1d44816edfca8c80d1f49c6b9d644} 
\index{BMP280.c@{BMP280.c}!BMP280\_Measure\_I2C@{BMP280\_Measure\_I2C}}
\index{BMP280\_Measure\_I2C@{BMP280\_Measure\_I2C}!BMP280.c@{BMP280.c}}
\doxysubsubsection{\texorpdfstring{BMP280\_Measure\_I2C()}{BMP280\_Measure\_I2C()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{struct_b_m_p280___result}{BMP280\+\_\+\+Result}} BMP280\+\_\+\+Measure\+\_\+\+I2C (\begin{DoxyParamCaption}\item[{I2\+C\+\_\+\+Handle\+Type\+Def}]{i2c\+\_\+handle,  }\item[{uint8\+\_\+t}]{device\+\_\+address }\end{DoxyParamCaption})}



Measure temperature and pressure over I2C. 


\begin{DoxyParams}{Parameters}
{\em i2c\+\_\+handle} & Desired MCU I2C peripheral for communication with sensor \\
\hline
{\em device\+\_\+address} & I2C device address~\newline
BMP280\+\_\+\+DEVICE\+\_\+\+ADDRESS\+\_\+\+GND = 0x76~\newline
BMP280\+\_\+\+DEVICE\+\_\+\+ADDRESS\+\_\+\+VDDIO = 0x77 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Measurement values 
\end{DoxyReturn}
\Hypertarget{_b_m_p280_8c_aac5dadd8c2f03898ed77fdb2eb77c0fd}\label{_b_m_p280_8c_aac5dadd8c2f03898ed77fdb2eb77c0fd} 
\index{BMP280.c@{BMP280.c}!BMP280\_Wake\_I2C@{BMP280\_Wake\_I2C}}
\index{BMP280\_Wake\_I2C@{BMP280\_Wake\_I2C}!BMP280.c@{BMP280.c}}
\doxysubsubsection{\texorpdfstring{BMP280\_Wake\_I2C()}{BMP280\_Wake\_I2C()}}
{\footnotesize\ttfamily bool BMP280\+\_\+\+Wake\+\_\+\+I2C (\begin{DoxyParamCaption}\item[{I2\+C\+\_\+\+Handle\+Type\+Def}]{i2c\+\_\+handle,  }\item[{uint8\+\_\+t}]{device\+\_\+address }\end{DoxyParamCaption})}



Wake sensor over I2C -\/ used when measuring in forced mode. 

Wake sensor by writing MEASURE\+\_\+\+MODE\+\_\+\+FORCED bit to CTRL\+\_\+\+MEAS register 

\doxysubsection{Variable Documentation}
\Hypertarget{_b_m_p280_8c_ac1f0d71206317758c70cd96314b6fc02}\label{_b_m_p280_8c_ac1f0d71206317758c70cd96314b6fc02} 
\index{BMP280.c@{BMP280.c}!t\_fine@{t\_fine}}
\index{t\_fine@{t\_fine}!BMP280.c@{BMP280.c}}
\doxysubsubsection{\texorpdfstring{t\_fine}{t\_fine}}
{\footnotesize\ttfamily int32\+\_\+t t\+\_\+fine}

